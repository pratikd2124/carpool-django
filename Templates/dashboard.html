<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.css" rel="stylesheet"/> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <!-- Font Awesome -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary px-5" aria-label="Offcanvas navbar large">
        <div class="container-fluid">
          <a class="navbar-brand" style="font-family: 'Open Sans', sans-serif !important;letter-spacing: .3rem;font-weight: 700;" href="#">
            <i class="fa-solid fa-location-dot text-light"></i>
            SHARER
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2" aria-controls="offcanvasNavbar2">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="offcanvas offcanvas-end text-bg-primary" tabindex="-1" id="offcanvasNavbar2" aria-labelledby="offcanvasNavbar2Label">
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasNavbar2Label">SHARER</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-end flex-grow-1 mx-2 ">
                <li class="nav-item mx-2 my-2">
                  <a class="nav-link btn btn-outline-light" aria-current="page" href="{% url 'postview' %}">Find A Ride</a>
                </li>
                <li class="nav-item mx-2 my-2">
                  <a class="nav-link btn btn-outline-warning" href="{% url 'mapview' %}">Publish A Ride</a>
                </li>
                <li class="nav-item dropdown mx-2 my-2" style="margin-right:50px!important;">
                  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://github.com/mdo.png" alt="mdo" width="32" height="32" class="rounded-circle">
                  </a>
                  <ul class="dropdown-menu  gap-1 p-2 rounded-3 mx-0 shadow w-220px">
                    <li><a class="dropdown-item" href="#">New project...</a></li>
                    <li><a class="dropdown-item" href="#">Settings</a></li>
                    <li><a class="dropdown-item" href="#">Profile</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#">Sign out</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    <!-- Navbar -->

    <!-- card -->
    <h1>Driver Dashboard</h1> <hr/>
    {% comment %} <div class="container mx-auto p-4 w-50">
      
      <h3>Active Rides</h3>
      {% for req,user in ride_requests_users %}
      
      <div class="card shadow mb-4 p-4">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <img
                src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                alt=""
                style="width: 25px; height: 25px"
                class="rounded-circle"
                /><h5 class="card-title m-2">{{user.fname}}</h5>
              </div>
              <div class="container">
                <div class="row">
                  <div class="col ">
                    <div class="1">
                      <span><i class="fa-solid fa-street-view text-info text-gradient"></i></span><h6>Pickup Point : {{req.pickup}}</h6>
                    </div>
      
                    <div class="2">
                      <span><i class="fa-solid fa-location-dot text-info text-gradient"></i></span><h6>Destination : {{req.drop}}</h6>
                    </div>
                    <div class="3">
                      <span><i class="fa-dollar fa-location-dot text-info text-gradient"></i></span><h6>Payment : {% if req.payment %}
                        Online <i class="fa fa-check" style="color:green" aria-hidden="true"></i>

                      {% else %}
                      Cash 
                      {% endif %}</h6>
                    </div>
                  </div>
                </div>
              </div>
              
          <p class="card-text">Please pick up the person from repective point. check for any other required route properly</p>
          {% if req.booked %}
              
            <div class="container w-100 text-center">
              
              <input type="text " class="btn btn-primary" value="Accepted" disabled>
            </div>
          {% else %}
            <form action="{% url 'accept' req.ride_id user.id %}">
              
              <div class="container w-100 text-center">
                
                <button type="submit " class="btn btn-primary">Accept</button>
              </div>
            </form>
          {% endif %}
        </div>
      </div>
      {% endfor %}

    </div> {% endcomment %}
    

    <table class="table align-middle mb-0 bg-white container mt-5 shadow">
      <thead class="bg-light">
        <tr>
          <th>Name of rider</th>
          <th>Pickup place</th>
          <th>Drop Place</th>
          <th>Payment</th>
          <th>Accept / Reject</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>

            {% for req,user in ride_requests_users %}
            
            <div class="d-flex align-items-center">
                  <img
                      src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                      alt=""
                      style="width: 45px; height: 45px"
                      class="rounded-circle"
                      />
                  <div class="ms-3">
                    <p class="fw-bold mb-1">{{user.fname}}</p>
                    <p class="text-muted mb-0">{{user.email}}</p>
                  </div>
            </div>
          </td>
          <td>
            <p class="fw-normal mb-1"><i class="fa-solid fa-street-view text-info text-gradient"></i>{{req.pickup}}</p>
          </td>
          
          <td>          <p class=" mb-0"><i class="fa-solid fa-location-dot text-info text-gradient"></i>{{req.drop}}</p>
          </td>
          <td><span><i class="fa-dollar fa-location-dot text-info text-gradient"></i></span>{% if req.payment %}
            Online <i class="fa fa-check" style="color:green" aria-hidden="true"></i>

          {% else %}
          Cash 
          {% endif %}</td>

          <td>
            {% if req.booked %}
              
            <div class="">
              
              <input type="text " class="btn btn-primary" value="Accepted" disabled>
            </div>
            {% elif req.rejected %}
              
            <div class="">
              
              <input type="text " class="btn text-white"style="background-color:red;" value="Rejected" disabled>
            </div>

          {% else %}
              
              <div class="">
                
                <button type="submit " name="accept"class="btn btn-primary" value="accept"><a href="{% url 'accept' req.ride_id user.id %}" class="text-white">Accept</a></button>
                <button type="submit "name="reject" class="btn text-white" style="background-color:red;"value='reject'><a href="{% url 'reject' req.ride_id user.id %}" class="text-white">Reject</a></button>

              </div>
            </form>
          {% endif %}
            {% comment %} <button type="button" class="btn btn-link btn-sm btn-rounded" data-bs-toggle="modal" data-bs-target="#exampleModal">
              View
            </button> {% endcomment %}
                        <!-- Modal -->
            {% comment %} <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    
                    <div class="card shadow mb-4 p-4">
                      <div class="card-body">
                        <div class="d-flex align-items-center">
                          <img
                              src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                              alt=""
                              style="width: 25px; height: 25px"
                              class="rounded-circle"
                              /><h5 class="card-title m-2">{{user.fname}}</h5>
                            </div>
                            <div class="container">
                              <div class="row">
                                <div class="col ">
                                  <div class="1">
                                    <span><i class="fa-solid fa-street-view text-info text-gradient"></i></span><h6>Pickup Point : Mumbai</h6>
                                  </div>
                    
                                  <div class="2">
                                    <span><i class="fa-solid fa-location-dot text-info text-gradient"></i></span><h6>Destination : Pune</h6>
                                  </div>
                                </div>
                              </div>
                            </div>
                            
                        <p class="card-text">Please pick up the person from repective point. check for any ither required route properly</p>
                        <div class="container w-100 text-center">
                          <button type="button " class="btn btn-primary">Accept</button>
                        </div>
                      </div>
                    </div>
                  </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                      </div>
                </div>
              </div>
            </div> {% endcomment %}
          </td>
        </tr>
        {% endfor %}

      </tbody>
    </table>

    <!-- card -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/5.0.0/mdb.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
    {% block content %}  

    {% endblock content %}  

</body>
</html>